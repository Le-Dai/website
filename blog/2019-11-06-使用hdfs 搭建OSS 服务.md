---
slug: hdfs-oss-service-setup
title: 使用hdfs 搭建OSS 服务
authors: [ledai]
tags: [hfs oss]
date: 2019-11-06
---

# 使用hdfs 搭建OSS 服务


<!-- truncate -->

## hdfs 搭建OSS服务的好处

* hdfs 存在副本机制 HA 高可用 数据不易丢失  服务不会异常

  


查看了webhdfs 以及 httpfs 相对应接口发现 只有操作和下载hdfs的接口  查看network 发现 response 返回的Content-Type:application/octet-stream; 也就是down load下载二进制文件 httpfs并不会根据文件后缀名动态更改类型  



## nfs 挂载到本地目录

hadoop 2.x 以及支持了nfs 挂载到本地目录

具体nfs 安装流程可以百度 使用cdh 或者ambari集成环境 比较方便 

需要注意的是 需要安装

```yum install -y showmount```

```showmount localhost```

将nfs 挂载到httpd 目录下 然后启动httpd 服务

```mount -t nfs -o vers=3,proto=tcp,nolock,noacl sinan03:/  /var/www/html/hdfsnfs```



![源码](https://raw.githubusercontent.com/MrDLontheway/mrdlontheway.github.io/master/images/nfs1.jpg)

